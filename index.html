<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NoteVault - Your personal vault of notes—locked with login, unlocked with ease</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Loading Spinner -->
        <div id="loading" class="loading-overlay hidden">
            <div class="loading-spinner"></div>
        </div>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>

        <!-- Google Auth Modal -->
        <div id="google-auth-modal" class="modal hidden">
            <div class="modal-backdrop" onclick="window.app && window.app.hideModal('google-auth-modal')"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Sign in with Google</h4>
                </div>
                <div class="modal-body">
                    <p>Choose a Google account to continue:</p>
                    <div id="google-accounts" class="google-accounts-list">
                        <!-- Google accounts will be populated here -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancel-google-auth" class="btn btn--secondary" onclick="window.app && window.app.hideModal('google-auth-modal')">Cancel</button>
                </div>
            </div>
        </div>

        <!-- Authentication Pages -->
        <div id="auth-container" class="auth-container">
            <!-- Sign Up Page -->
            <div id="signup-page" class="auth-page hidden">
                <div class="auth-card">
                    <div class="auth-header">
                        <h1>Create Account</h1>
                        <p>NoteVault - Your personal vault of notes—locked with login, unlocked with ease</p>
                    </div>
                    
                    <form id="signup-form" class="auth-form" onsubmit="return window.app && window.app.handleSignUpSubmit(event)">
                        <div class="form-group">
                            <label for="signup-name" class="form-label">Full Name</label>
                            <input type="text" id="signup-name" name="name" class="form-control" placeholder="Enter your full name" required>
                            <div class="error-message" id="signup-name-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="signup-email" class="form-label">Email Address</label>
                            <input type="email" id="signup-email" name="email" class="form-control" placeholder="Enter your email" required>
                            <div class="error-message" id="signup-email-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="signup-password" class="form-label">Password</label>
                            <input type="password" id="signup-password" name="password" class="form-control" placeholder="Create a strong password" required>
                            <div class="error-message" id="signup-password-error"></div>
                            <div class="password-requirements">
                                <small>Minimum 8 characters, 1 uppercase, 1 number required</small>
                            </div>
                        </div>

                        <button type="submit" id="signup-submit-btn" class="btn btn--primary btn--full-width">
                            <span class="btn-text">Create Account</span>
                            <span class="btn-loading hidden">Creating Account...</span>
                        </button>
                    </form>

                    <div class="auth-divider">
                        <span>or</span>
                    </div>

                    <button id="google-signup-btn" class="btn btn--outline btn--full-width google-btn" onclick="window.app && window.app.handleGoogleAuth('signup')">
                        <span class="google-icon">G</span>
                        Continue with Google
                    </button>

                    <div class="auth-footer">
                        <p>Already have an account? <a href="#" onclick="window.app && window.app.showSignInPage(); return false;">Sign in</a></p>
                    </div>
                </div>
            </div>

            <!-- Sign In Page -->
            <div id="signin-page" class="auth-page">
                <div class="auth-card">
                    <div class="auth-header">
                        <h1>Welcome Back</h1>
                        <p>Sign in to access your notes</p>
                    </div>
                    
                    <form id="signin-form" class="auth-form" onsubmit="return window.app && window.app.handleSignInSubmit(event)">
                        <div class="form-group">
                            <label for="signin-email" class="form-label">Email Address</label>
                            <input type="email" id="signin-email" name="email" class="form-control" placeholder="Enter your email" required value="demo@example.com">
                            <div class="error-message" id="signin-email-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="signin-password" class="form-label">Password</label>
                            <input type="password" id="signin-password" name="password" class="form-control" placeholder="Enter your password" required value="Demo123!">
                            <div class="error-message" id="signin-password-error"></div>
                        </div>

                        <div class="demo-credentials">
                            <small>Demo: demo@example.com / Demo123!</small>
                        </div>

                        <button type="submit" id="signin-submit-btn" class="btn btn--primary btn--full-width">
                            <span class="btn-text">Sign In</span>
                            <span class="btn-loading hidden">Signing In...</span>
                        </button>
                    </form>

                    <div class="auth-divider">
                        <span>or</span>
                    </div>

                    <button id="google-signin-btn" class="btn btn--outline btn--full-width google-btn" onclick="window.app && window.app.handleGoogleAuth('signin')">
                        <span class="google-icon">G</span>
                        Sign in with Google
                    </button>

                    <div class="auth-footer">
                        <p>Don't have an account? <a href="#" onclick="window.app && window.app.showSignUpPage(); return false;">Sign up</a></p>
                    </div>
                </div>
            </div>

            <!-- OTP Verification Page -->
            <div id="otp-page" class="auth-page hidden">
                <div class="auth-card">
                    <div class="auth-header">
                        <h1>Verify Your Email</h1>
                        <p>We've sent a verification code to <span id="otp-email"></span></p>
                    </div>

                    <div id="demo-otp-display" class="demo-otp-display hidden">
                        <div class="demo-otp-box">
                            <strong>Demo OTP Code: <span id="demo-otp-code"></span></strong>
                            <br>
                            <small>Use this code to verify your account</small>
                        </div>
                    </div>
                    
                    <form id="otp-form" class="auth-form" onsubmit="return window.app && window.app.handleOTPSubmit(event)">
                        <div class="form-group">
                            <label for="otp-code" class="form-label">Verification Code</label>
                            <input type="text" id="otp-code" name="otp" class="form-control otp-input" placeholder="Enter 6-digit code" maxlength="6" required>
                            <div class="error-message" id="otp-code-error"></div>
                        </div>

                        <button type="submit" id="otp-submit-btn" class="btn btn--primary btn--full-width">
                            <span class="btn-text">Verify Code</span>
                            <span class="btn-loading hidden">Verifying...</span>
                        </button>
                    </form>

                    <div class="auth-footer">
                        <p>Didn't receive the code? <a href="#" onclick="window.app && window.app.resendOTP(); return false;">Resend OTP</a></p>
                        <p><a href="#" onclick="window.app && window.app.showSignUpPage(); return false;">Back to Sign Up</a></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div id="dashboard-container" class="dashboard-container hidden">
            <!-- Header -->
            <header class="dashboard-header">
                <div class="container">
                    <div class="header-content">
                        <h1 class="app-title">NoteVault</h1>
                        <div class="user-menu">
                            <span id="user-name" class="user-name"></span>
                            <button id="logout-btn" class="btn btn--outline btn--sm" onclick="window.app && window.app.logout()">Logout</button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Main Content -->
            <main class="dashboard-main">
                <div class="container">
                    <!-- Welcome Section -->
                    <section class="welcome-section">
                        <div class="welcome-card">
                            <h2>Welcome back, <span id="welcome-user-name"></span>!</h2>
                            <p>Organize your thoughts and ideas with ease.</p>
                            <div class="user-stats">
                                <div class="stat">
                                    <span class="stat-number" id="notes-count">0</span>
                                    <span class="stat-label">Notes Created</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-number" id="user-since"></span>
                                    <span class="stat-label">Member Since</span>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Notes Section -->
                    <section class="notes-section">
                        <div class="section-header">
                            <h3>Your Notes</h3>
                            <button id="add-note-btn" class="btn btn--primary" onclick="window.app && window.app.showNoteForm()">+ New Note</button>
                        </div>

                        <!-- Add Note Form -->
                        <div id="note-form-container" class="note-form-container hidden">
                            <div class="card">
                                <div class="card__body">
                                    <form id="note-form" class="note-form" onsubmit="return window.app && window.app.handleNoteSubmit(event)">
                                        <div class="form-group">
                                            <label for="note-title" class="form-label">Note Title</label>
                                            <input type="text" id="note-title" name="title" class="form-control" placeholder="Enter note title" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="note-content" class="form-label">Content</label>
                                            <textarea id="note-content" name="content" class="form-control" rows="6" placeholder="Write your note here..." required></textarea>
                                        </div>
                                        
                                        <div class="form-actions">
                                            <button type="button" id="cancel-note-btn" class="btn btn--secondary" onclick="window.app && window.app.hideNoteForm()">Cancel</button>
                                            <button type="submit" id="save-note-btn" class="btn btn--primary">
                                                <span class="btn-text">Save Note</span>
                                                <span class="btn-loading hidden">Saving...</span>
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- Notes Grid -->
                        <div id="notes-grid" class="notes-grid">
                            <!-- Notes will be dynamically inserted here -->
                        </div>

                        <!-- Empty State -->
                        <div id="empty-notes" class="empty-state hidden">
                            <div class="empty-state-content">
                                <h4>No notes yet</h4>
                                <p>Create your first note to get started!</p>
                                <button class="btn btn--primary" onclick="window.app && window.app.showNoteForm()">Create Note</button>
                            </div>
                        </div>
                    </section>
                </div>
            </main>
        </div>

        <!-- Delete Confirmation Modal -->
        <div id="delete-modal" class="modal hidden">
            <div class="modal-backdrop" onclick="window.app && window.app.hideModal('delete-modal')"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Delete Note</h4>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this note? This action cannot be undone.</p>
                </div>
                <div class="modal-footer">
                    <button id="cancel-delete-btn" class="btn btn--secondary" onclick="window.app && window.app.hideModal('delete-modal')">Cancel</button>
                    <button id="confirm-delete-btn" class="btn btn--primary" onclick="window.app && window.app.deleteNote(window.app.noteToDelete)">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
